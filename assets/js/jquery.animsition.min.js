!function(a){"use strict";var n="animsition",i={init:function(t){t=a.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body"},t);var o=i.supportCheck.call(this,t);if(!o)return"console"in window||(window.console={},window.console.log=function(a){return a}),console.log("Animsition does not support this browser."),i.destroy.call(this);var e=i.optionCheck.call(this,t);return e&&i.addOverlay.call(this,t),t.loading&&i.addLoading.call(this,t),this.each(function(){var o=this,e=a(this),s=a(window),l=e.data(n);l||(t=a.extend({},t),e.data(n,{options:t}),s.on("load."+n+" pageshow."+n,function(){i.pageIn.call(o)}),s.on("unload."+n,function(){}),a(t.linkElement).on("click."+n,function(n){n.preventDefault();var t=a(this),e=t.attr("href");2===n.which||n.metaKey||n.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&n.ctrlKey?window.open(e,"_blank"):i.pageOut.call(o,t,e)}))})},addOverlay:function(n){a(n.overlayParentElement).prepend('<div class="'+n.overlayClass+'"><div class="'+$(".animsition").attr("data-loader-type")+'"></div><div class="page-loader-text">'+$(".animsition").attr("data-page-loader-text")+"</div></div>")},addLoading:function(n){a(n.loadingParentElement).append('<div class="'+n.loadingClass+'"><div class="'+$(".animsition").attr("data-loader-type")+'"></div><div class="page-loader-text">'+$(".animsition").attr("data-page-loader-text")+"</div></div>")},removeLoading:function(){var i=a(this),t=i.data(n).options,o=a(t.loadingParentElement).children("."+t.loadingClass);o.fadeOut().remove()},supportCheck:function(n){var i=a(this),t=n.unSupportCss,o=t.length,e=!1;0===o&&(e=!0);for(var s=0;o>s;s++)if("string"==typeof i.css(t[s])){e=!0;break}return e},optionCheck:function(n){var i,t=a(this);return i=!(!n.overlay&&!t.data("animsition-overlay"))},animationCheck:function(i,t,o){var e=a(this),s=e.data(n).options,l=typeof i,r=!t&&"number"===l,d=t&&"string"===l&&i.length>0;return r||d?i=i:t&&o?i=s.inClass:!t&&o?i=s.inDuration:t&&!o?i=s.outClass:t||o||(i=s.outDuration),i},pageIn:function(){var t=this,o=a(this),e=o.data(n).options,s=o.data("animsition-in-duration"),l=o.data("animsition-in"),r=i.animationCheck.call(t,s,!1,!0),d=i.animationCheck.call(t,l,!0,!0),c=i.optionCheck.call(t,e);e.loading&&i.removeLoading.call(t),c?i.pageInOverlay.call(t,d,r):i.pageInBasic.call(t,d,r)},pageInBasic:function(n,i){var t=a(this);t.trigger("animsition.start").css({"animation-duration":i/1e3+"s"}).addClass(n).animateCallback(function(){t.removeClass(n).css({opacity:1}).trigger("animsition.end")})},pageInOverlay:function(i,t){var o=a(this),e=o.data(n).options;o.trigger("animsition.start").css({opacity:1}),a(e.overlayParentElement).children("."+e.overlayClass).css({"animation-duration":t/1e3+"s"}).addClass(i).animateCallback(function(){o.trigger("animsition.end")})},pageOut:function(t,o){var e=this,s=a(this),l=s.data(n).options,r=t.data("animsition-out"),d=s.data("animsition-out"),c=t.data("animsition-out-duration"),u=s.data("animsition-out-duration"),m=r?r:d,p=c?c:u,h=i.animationCheck.call(e,m,!0,!1),v=i.animationCheck.call(e,p,!1,!1),f=i.optionCheck.call(e,l);f?i.pageOutOverlay.call(e,h,v,o):i.pageOutBasic.call(e,h,v,o)},pageOutBasic:function(n,i,t){var o=a(this);o.css({"animation-duration":i/1e3+"s"}).addClass(n).animateCallback(function(){location.href=t})},pageOutOverlay:function(t,o,e){var s=this,l=a(this),r=l.data(n).options,d=l.data("animsition-in"),c=i.animationCheck.call(s,d,!0,!0);a(r.overlayParentElement).children("."+r.overlayClass).css({"animation-duration":o/1e3+"s"}).removeClass(c).addClass(t).animateCallback(function(){location.href=e})},destroy:function(){return this.each(function(){var i=a(this);a(window).unbind("."+n),i.css({opacity:1}).removeData(n)})}};a.fn.animateCallback=function(n){var i="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){a(this).bind(i,function(){return a(this).unbind(i),n.call(this)})})},a.fn.animsition=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void a.error("Method "+t+" does not exist on jQuery."+n):i.init.apply(this,arguments)}}(jQuery);